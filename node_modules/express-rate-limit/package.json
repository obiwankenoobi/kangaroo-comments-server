{
  "_args": [
    [
      {
        "raw": "express-rate-limit@^2.12.2",
        "scope": null,
        "escapedName": "express-rate-limit",
        "name": "express-rate-limit",
        "rawSpec": "^2.12.2",
        "spec": ">=2.12.2 <3.0.0",
        "type": "range"
      },
      "/Users/artiumsirchenko/Desktop/coding/learning/school_projects/react/commentsSystem/server"
    ]
  ],
  "_from": "express-rate-limit@>=2.12.2 <3.0.0",
  "_id": "express-rate-limit@2.14.2",
  "_inCache": true,
  "_location": "/express-rate-limit",
  "_nodeVersion": "8.11.4",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/express-rate-limit_2.14.2_1535039581163_0.19848970979912872"
  },
  "_npmUser": {
    "name": "nfriedly",
    "email": "nathan@nfriedly.com"
  },
  "_npmVersion": "5.6.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "express-rate-limit@^2.12.2",
    "scope": null,
    "escapedName": "express-rate-limit",
    "name": "express-rate-limit",
    "rawSpec": "^2.12.2",
    "spec": ">=2.12.2 <3.0.0",
    "type": "range"
  },
  "_requiredBy": [
    "#USER",
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/express-rate-limit/-/express-rate-limit-2.14.2.tgz",
  "_shasum": "d1effcdddc7cd36ba91ef71da3cc737d037a6ec2",
  "_shrinkwrap": null,
  "_spec": "express-rate-limit@^2.12.2",
  "_where": "/Users/artiumsirchenko/Desktop/coding/learning/school_projects/react/commentsSystem/server",
  "author": {
    "name": "Nathan Friedly",
    "url": "http://nfriedly.com/"
  },
  "bugs": {
    "url": "https://github.com/nfriedly/express-rate-limit/issues"
  },
  "dependencies": {
    "defaults": "^1.0.3"
  },
  "description": "Basic IP rate-limiting middleware for Express. Use to limit repeated requests to public APIs and/or endpoints such as password reset.",
  "devDependencies": {
    "eslint": "^5.2.0",
    "eslint-config-prettier": "^2.9.0",
    "eslint-plugin-prettier": "^2.6.2",
    "express": "^4.16.3",
    "husky": "^0.14.3",
    "mocha": "^5.2.0",
    "prettier": "1.14.0",
    "pretty-quick": "^1.6.0",
    "supertest": "^3.1.0"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-aVYzfYU2Bv+v6ry/fBpTrX8MorM0p/TeDnx4CqiLevg9ftG8eW+pyuZ6JEreGdG2t1vXyTGHuSNRKLeYixuqZg==",
    "shasum": "d1effcdddc7cd36ba91ef71da3cc737d037a6ec2",
    "tarball": "https://registry.npmjs.org/express-rate-limit/-/express-rate-limit-2.14.2.tgz",
    "fileCount": 4,
    "unpackedSize": 15359,
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJbftheCRA9TVsSAnZWagAAV3IP/22xjNOKmLx/NHCFIPns\nXvAm6JAtJV1QGmhlMGChR3eWS0whOBBs2r+F/f+jX7cSxRPVMnQrvW/pGGHI\ncR6SYuD15cMjJTHLHLzssxBBJHkh2qXGvnWmTtNkdMBWQ/H8wByxf/V2bhUX\nzyXvsrJMGco8z8+UokdQIfl9WKNZAXzMx3ICb0n7zud6n2t7VxqHtCGUcnqU\nkEXjYIegG2bKYbImjtAWJ88Ti4KuQFiW+eS8V2/zQI/gh3fDRCWfT4dZisxx\ncgpXjQXlumRkzLWBQHYCxV/uCK+mXv+a+zLIM3CkRwybSh9dODb0LYWqXU33\nkF0+UO1tp+Iotakg4eVdqe4900upHrakxmewq9M+2YsFonUcTDmjEptKpOch\n/OCHwZTzZq3rgT49iiy8OBxjNk8wvCeIrnPLFAtj1M+wF1mizTE+tmer+1ax\nTr5mFaP3Tzv5oOOCmDfPNiQAOM/uuHFe4LVteIi9zBaaiGFFX7W2Icmi7UfB\nZf5QIssZifdNlvQBNUzIwhr+7H8OaGCHXQ+nhMlJ5REr1jeAEliyA9MPANUi\nMC6kT9YzLUw2RMx5+ageYzzOuKn7eBri2A1cJDMgf8BXckHbffw6/ohFUWV0\nLe6yCMGOfzfo1rM9WZ1OONotX+sNS6eYdMw0IGeYAwF8d55G/6FJxdukdKpD\nwq2s\r\n=+3e1\r\n-----END PGP SIGNATURE-----\r\n"
  },
  "files": [
    "lib/"
  ],
  "gitHead": "e1cce0b8d4eaafd0dde566b95b3b60a6f0370c84",
  "homepage": "https://github.com/nfriedly/express-rate-limit",
  "keywords": [
    "express-rate-limit",
    "express",
    "rate",
    "limit",
    "ratelimit",
    "rate-limit",
    "middleware",
    "ip",
    "auth",
    "authorization",
    "security",
    "brute",
    "force",
    "bruteforce",
    "brute-force",
    "attack"
  ],
  "license": "MIT",
  "main": "lib/express-rate-limit.js",
  "maintainers": [
    {
      "name": "nfriedly",
      "email": "nathan@nfriedly.com"
    }
  ],
  "name": "express-rate-limit",
  "optionalDependencies": {},
  "readme": "# Express Rate Limit\n\n[![Build Status](https://secure.travis-ci.org/nfriedly/express-rate-limit.png?branch=master)](http://travis-ci.org/nfriedly/express-rate-limit)\n[![NPM version](http://badge.fury.io/js/express-rate-limit.png)](https://npmjs.org/package/express-rate-limit \"View this project on NPM\")\n[![Dependency Status](https://david-dm.org/nfriedly/express-rate-limit.png?theme=shields.io)](https://david-dm.org/nfriedly/express-rate-limit)\n[![Development Dependency Status](https://david-dm.org/nfriedly/express-rate-limit/dev-status.png?theme=shields.io)](https://david-dm.org/nfriedly/express-rate-limit#info=devDependencies)\n\nBasic rate-limiting middleware for Express. Use to limit repeated requests to public APIs and/or endpoints such as password reset.\n\nNote: this module does not share state with other processes/servers by default.\nIf you need a more robust solution, I recommend using an addon store or trying out one of the excelent competing options.\n\n### Stores\n\n- Memory Store _(default, built-in)_ - stores hits in-memory in the Node.js process. Does not share state with other servers or processes.\n- [Redis Store](https://npmjs.com/package/rate-limit-redis)\n- [Memcached Store](https://npmjs.org/package/rate-limit-memcached)\n\n### Alternate Rate-limiters\n\nThis module was designed to only handle the basics and didn't even support external stores initially. These other options all are excellent pieces of software and may be more appropriate for some situations:\n\n- [strict-rate-limiter](https://www.npmjs.com/package/strict-rate-limiter)\n- [express-brute](https://www.npmjs.com/package/express-brute)\n- [rate-limiter](https://www.npmjs.com/package/express-limiter)\n\n## Install\n\n```sh\n$ npm install --save express-rate-limit\n```\n\n## Usage\n\nFor an API-only server where the rate-limiter should be applied to all requests:\n\n```js\nvar RateLimit = require(\"express-rate-limit\");\n\napp.enable(\"trust proxy\"); // only if you're behind a reverse proxy (Heroku, Bluemix, AWS if you use an ELB, custom Nginx setup, etc)\n\nvar limiter = new RateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100, // limit each IP to 100 requests per windowMs\n  delayMs: 0 // disable delaying - full speed until the max limit is reached\n});\n\n//  apply to all requests\napp.use(limiter);\n```\n\nFor a \"regular\" web server (e.g. anything that uses `express.static()`), where the rate-limiter should only apply to certain requests:\n\n```js\nvar RateLimit = require(\"express-rate-limit\");\n\napp.enable(\"trust proxy\"); // only if you're behind a reverse proxy (Heroku, Bluemix, AWS if you use an ELB, custom Nginx setup, etc)\n\nvar apiLimiter = new RateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100,\n  delayMs: 0 // disabled\n});\n\n// only apply to requests that begin with /api/\napp.use(\"/api/\", apiLimiter);\n```\n\nCreate multiple instances to apply different rules to different routes:\n\n```js\nvar RateLimit = require(\"express-rate-limit\");\n\napp.enable(\"trust proxy\"); // only if you're behind a reverse proxy (Heroku, Bluemix, AWS if you use an ELB, custom Nginx setup, etc)\n\nvar apiLimiter = new RateLimit({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  max: 100,\n  delayMs: 0 // disabled\n});\napp.use(\"/api/\", apiLimiter);\n\nvar createAccountLimiter = new RateLimit({\n  windowMs: 60 * 60 * 1000, // 1 hour window\n  delayAfter: 1, // begin slowing down responses after the first request\n  delayMs: 3 * 1000, // slow down subsequent responses by 3 seconds per request\n  max: 5, // start blocking after 5 requests\n  message:\n    \"Too many accounts created from this IP, please try again after an hour\"\n});\napp.post(\"/create-account\", createAccountLimiter, function(req, res) {\n  //...\n});\n```\n\nA `req.rateLimit` property is added to all requests with the `limit`, `current`, and `remaining` number of requests for usage in your application code and, if the store provides it, a resetTime Date object.\n\n## Configuration\n\n- **windowMs**: milliseconds - how long to keep records of requests in memory. Defaults to `60000` (1 minute).\n- **delayAfter**: max number of connections during `windowMs` before starting to delay responses. Defaults to `1`. Set to `0` to disable delaying.\n- **delayMs**: milliseconds - how long to delay the response, multiplied by (number of recent hits - `delayAfter`). Defaults to `1000` (1 second). Set to `0` to disable delaying.\n- **max**: max number of connections during `windowMs` milliseconds before sending a 429 response. Defaults to `5`. Set to `0` to disable.\n- **message**: Error message returned when `max` is exceeded. Defaults to `'Too many requests, please try again later.'`\n- **statusCode**: HTTP status code returned when `max` is exceeded. Defaults to `429`.\n- **headers**: Enable headers for request limit (`X-RateLimit-Limit`) and current usage (`X-RateLimit-Remaining`) on all responses and time to wait before retrying (`Retry-After`) when `max` is exceeded.\n- **skipFailedRequests**: when `true` failed requests (response status >= 400) won't be counted. Defaults to `false`.\n- **skipSuccessfulRequests**: when `true` successful requests (response status < 400) won't be counted. Defaults to `false`.\n- **keyGenerator**: Function used to generate keys. By default user IP address (req.ip) is used. Defaults:\n\n```js\nfunction (req /*, res*/) {\n    return req.ip;\n}\n```\n\n- **skip**: Function used to skip requests. Returning true from the function will skip limiting for that request. Defaults:\n\n```js\nfunction (/*req, res*/) {\n    return false;\n}\n```\n\n- **handler**: The function to execute once the max limit is exceeded. It receives the request and the response objects. The \"next\" param is available if you need to pass to the next middleware. Defaults:\n\n```js\nfunction (req, res, /*next*/) {\n  if (options.headers) {\n    res.setHeader('Retry-After', Math.ceil(options.windowMs / 1000));\n  }\n  res.format({\n    html: function(){\n      res.status(options.statusCode).end(options.message);\n    },\n    json: function(){\n      res.status(options.statusCode).json({ message: options.message });\n    }\n  });\n}\n```\n\n- **onLimitReached**: Function to listen each time the limit is reached. You can use it to debug/log. Defaults:\n\n```js\nfunction (req, res, options) {\n  /* empty */\n}\n```\n\n- **store**: The storage to use when persisting rate limit attempts. By default, the [MemoryStore](lib/memory-store.js) is used. It must implement the following in order to function:\n\n```js\nfunction SomeStore() {\n  /**\n   * Increments the value in the underlying store for the given key.\n   * @method function\n   * @param {string} key - The key to use as the unique identifier passed\n   *                     down from RateLimit.\n   * @param {Store~incrCallback} cb - The callback issued when the underlying\n   *                                store is finished.\n   *\n   * The callback should be triggered with three values:\n   *  - error (usually null)\n   *  - hitCount for this IP\n   *  - resetTime - JS Date object (optional, but necessary for X-RateLimit-Reset header)\n   */\n  this.incr = function(key, cb) {\n    // ...\n  };\n\n  /**\n   * Decrements the value in the underlying store for the given key. Used only when skipFailedRequests is true\n   * @method function\n   * @param {string} key - The key to use as the unique identifier passed\n   *                     down from RateLimit.\n   */\n  this.decrement = function(key) {\n    // ...\n  };\n\n  /**\n   * This callback is called by the underlying store when an answer to the\n   * increment is available.\n   * @callback Store~incrCallback\n   * @param {?object} err - The error from the underlying store, or null if no\n   *                      error occurred.\n   * @param {number} value - The current value of the counter\n   */\n\n  /**\n   * Resets a value with the given key.\n   * @method function\n   * @param  {[type]} key - The key to reset\n   */\n  this.resetKey = function(key) {\n    // ...\n  };\n}\n```\n\nAvailable data stores are:\n\n- MemoryStore: _(default)_ Simple in-memory option. Does not share state when app has multiple processes or servers.\n- [rate-limit-redis](https://npmjs.com/package/rate-limit-redis): A [Redis](http://redis.io/)-backed store, more suitable for large or demanding deployments.\n- [rate-limit-memcached](https://npmjs.org/package/rate-limit-memcached): A [Memcached](https://memcached.org/)-backed store.\n\nThe `delayAfter` and `delayMs` options were written for human-facing pages such as login and password reset forms.\nFor public APIs, setting these to `0` (disabled) and relying on only `windowMs` and `max` for rate-limiting usually makes the most sense.\n\n## Instance API\n\n- **resetKey(key)**: Resets the rate limiting for a given key. (Allow users to complete a captcha or whatever to reset their rate limit, then call this method.)\n\n## v2 changes\n\nv2 uses a less precise but less resource intensive method of tracking hits from a given IP. v2 also adds the `limiter.resetKey()` API and removes the `global: true` option.\n\n## License\n\nMIT © [Nathan Friedly](http://nfriedly.com/)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/nfriedly/express-rate-limit.git"
  },
  "scripts": {
    "precommit": "pretty-quick --staged",
    "test": "eslint . && mocha"
  },
  "version": "2.14.2"
}
